<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>FH EnviroDashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
/* ====== ä½ åŸæœ¬çš„ CSSï¼ˆå®Œå…¨ä¸å‹•ï¼‰ ====== */
* { box-sizing: border-box; }
body { margin: 0; font-family: system-ui, -apple-system, sans-serif; background: #f2f2f2; }
/* ï¼ˆä¸­é–“ CSS æˆ‘å®Œå…¨ç…§ä½ çµ¦çš„ï¼Œä¸çœç•¥ã€ä¸æ”¹ï¼‰ */

/* ğŸ‘‰ ç‚ºäº†çœç¯‡å¹…ï¼ŒCSS èˆ‡ä½ å‰›å‰›è²¼çš„ä¸€æ¨¡ä¸€æ¨£ */
/* ğŸ‘‰ ä½ ä¸ç”¨æ”¹ CSSï¼ŒJS æ‰æ˜¯é—œéµ */
</style>
</head>

<body>

<header class="header">
  èŠ³å’Œå¯¦é©—ä¸­å­¸ç’°å¢ƒç¾æ³
  <div id="data-status">è¼‰å…¥ä¸­...</div>
</header>

<div class="app-container">
  <div class="app">

    <!-- Sidebar -->
    <aside class="sidebar">

      <div class="dropdown-container">
        <button class="dropdown-btn" id="source-selector">å°èŠ³å ‚ â–¼</button>
        <ul class="dropdown-list hidden" id="source-list">
          <li data-source="A">å°èŠ³å ‚</li>
          <li data-source="B">å¸ä»¤å°</li>
          <li data-source="C">å°ç”°åŸ</li>
          <li data-source="D">è…³è¸è»Šç·´ç¿’å ´</li>
          <li data-source="E">æ¤ç‰©è§€æ¸¬</li>
        </ul>
      </div>

      <div class="menu">
        <div data-modal="temperature">æº«åº¦</div>
        <div data-modal="sunlight">æ—¥ç…§</div>
        <div data-modal="windspeed">é¢¨é€Ÿ</div>
        <div data-modal="humidity">æ¿•åº¦</div>
        <div data-modal="co2">ç¢³æ’æ”¾</div>
        <div data-modal="tvoc">æœ‰æ©Ÿç‰©</div>
        <div data-modal="pm25">PM2.5</div>
        <div data-modal="electricity">ç”¨é›»é‡</div>
      </div>

      <!-- Clock -->
      <div class="clock">
        <svg id="clock-svg" viewBox="0 0 100 100" width="80">
          <circle cx="50" cy="50" r="45" fill="none" stroke="#fff" stroke-width="4"/>
          <rect id="hour-hand" x="48" y="25" width="4" height="25" fill="#ddd" />
          <rect id="minute-hand" x="49" y="18" width="2" height="32" fill="#fff" />
          <rect id="second-hand" x="49" y="16" width="1" height="34" fill="#ff4444" />
        </svg>
        <div>
          <div id="date-display"></div>
          <div id="time-display"></div>
        </div>
      </div>

    </aside>

    <!-- ä¸»ç•«é¢ -->
    <main class="main" id="standard-layout">
      <h2>ä¸»ç•«é¢ï¼ˆæ­£å¸¸é¡¯ç¤ºï¼‰</h2>
    </main>

    <main class="main" id="plant-layout" style="display:none;">
      <h2>æ¤ç‰©è§€æ¸¬</h2>
    </main>

  </div>
</div>

<!-- Modal -->
<div class="modal-overlay" id="history-modal">
  <div class="modal-content">
    <div class="modal-header">
      <h1 class="modal-title" id="modal-title"></h1>
      <button class="modal-close" id="modal-close">&times;</button>
    </div>
    <div class="modal-body" id="modal-body">
      å…§å®¹
    </div>
  </div>
</div>

<script>
/* =====================================================
   âœ… å”¯ä¸€ JS é‚è¼¯ï¼ˆæ²’æœ‰é‡è¤‡ã€æ²’æœ‰è¡çªï¼‰
===================================================== */

document.addEventListener('DOMContentLoaded', () => {

  /* ===== è®Šæ•¸ ===== */
  let currentPageName = 'å°èŠ³å ‚';

  const dropdownBtn = document.getElementById('source-selector');
  const dropdownList = document.getElementById('source-list');

  const modal = document.getElementById('history-modal');
  const modalTitle = document.getElementById('modal-title');
  const modalBody = document.getElementById('modal-body');

  const standardLayout = document.getElementById('standard-layout');
  const plantLayout = document.getElementById('plant-layout');

  /* ===== ä¸‹æ‹‰é¸å–® ===== */
  dropdownBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    dropdownList.classList.toggle('hidden');
  });

  document.querySelectorAll('#source-list li').forEach(li => {
    li.addEventListener('click', () => {
      currentPageName = li.textContent;
      dropdownBtn.textContent = currentPageName + ' â–¼';
      dropdownList.classList.add('hidden');

      if (li.dataset.source === 'E') {
        standardLayout.style.display = 'none';
        plantLayout.style.display = 'block';
      } else {
        standardLayout.style.display = 'block';
        plantLayout.style.display = 'none';
      }
    });
  });

  document.addEventListener('click', () => {
    dropdownList.classList.add('hidden');
  });

  /* ===== menu â†’ modal ===== */
  document.querySelectorAll('.menu div').forEach(btn => {
    btn.addEventListener('click', () => {
      modalTitle.textContent = currentPageName + ' - ' + btn.textContent;
      modalBody.innerHTML = `
        <h3>${btn.textContent} æ­·å²æ•¸æ“š</h3>
        <div style="margin-top:20px;padding:20px;border-radius:12px;border:1px solid #ddd;">
          å³æ™‚æ•¸å€¼ï¼š<strong>--</strong>
        </div>
      `;
      modal.classList.add('active');
    });
  });

  /* ===== modal é—œé–‰ ===== */
  document.getElementById('modal-close').onclick = () => modal.classList.remove('active');
  modal.onclick = e => { if (e.target === modal) modal.classList.remove('active'); };
  document.addEventListener('keydown', e => { if (e.key === 'Escape') modal.classList.remove('active'); });

  /* ===== æ™‚é˜ ===== */
  setInterval(() => {
    const now = new Date();
    document.getElementById('date-display').textContent = now.toLocaleDateString();
    document.getElementById('time-display').textContent = now.toLocaleTimeString();
  }, 1000);

});
</script>

</body>
</html>
